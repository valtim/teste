<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<meta http-equiv="Content-Type" content="text/html; charset=UTF8" />
<script>
$(document).ready(function(){
    
    $("#botao").click(function(){
        $("#Resultado").empty()

        $.get("https://localhost:44350/api/pesodisponivel/"+$("#roteiro").val()+"/30/VFR", function(data, status){
        //$.get("http://localhost:60376/api/disponivel/"+$("#roteiro").val()+"/30/VFR", function(data, status){
            
            //alert("Data: " + data + "\nStatus: " + status);

        
        $("#Resultado").append("")
        $("#Resultado").append("<B>Roteiro:</B> " + data[0].Roteiro + "<br/><br/>")
        $("#Resultado").append("<B>Tempo de Voo:</B> " + data[0].TempoDeVoo + "<br/>");
        $("#Resultado").append("<B>Tempo de Correção:</B> " + data[0].TempoDeCorrecao + "<br/>");
        $("#Resultado").append("<B>Tempo de Reserva:</B> " + data[0].TempoDeReserva + "<br/>");
        $("#Resultado").append("<B>Tempo de Total:</B> " + data[0].TempoTotal + "<br/>");

        $("#Resultado").append("<B>Combustível Necessário:</B> " + data[0].CombustivelNecessario + "<br/>");

        $.each(data, function(k, v) {
            $("#Resultado").append("<br/>")
            $("#Resultado").append("<B>" +v.Prefixo + " - " + v.Configuracao + "</B><br/>");// + ": " + v.PesoDisponivel +  "<br/>");
            $.each(v.trechos, function(w, y) {
                $("#Resultado").append(w + ": " + y + "<br/>")
            });
            //$("#Resultado").append(v.Prefixo + " - " + v.Configuracao + "<br/>");
            
            //alert("Data: " + v.Prefixo + "\nStatus: " + status);
        });

        });
    });
});
</script>
<style>
input {
    text-transform: uppercase;
}
</style>
</head>
<body>

<nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand" href="#">SOL</a>
        </div>
    </div>
</nav>

    <nav class="navbar navbar-inverse navbar-fixed-bottom">
        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand" href="#">SOL</a>
            </div>
        </div>
    </nav>
    

    <div class="jumbotron">
      <div class="container">
          <br><Br>
          <p>
        Roteiro: 
          </p>
          <p>
          <input type="text" id="roteiro">
          </p>
        <p><a id="botao" class="btn btn-primary btn-lg" href="#" role="button">Buscar!</a></p>
      </div>
    </div>





<div class="container">
<span id="Resultado">

</span>
</div>
</body>
</html>
