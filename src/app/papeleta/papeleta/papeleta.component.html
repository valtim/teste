<app-loading *ngIf="loading"></app-loading>
<div class="content">
  <div class="no-print">
    <input class="no-print" type="month" name="data" placeholder="YYYY-MM" [(ngModel)]="yearMonth">
  </div>

  <table class="no-print  nomes">
    <tr *ngFor="let tripulante of tripulantes; index as i; first as isFirst" (click)="showPapeleta(tripulante.Id)">
      <td>{{tripulante.CodigoANAC}}</td>
      <td>{{tripulante.NomeCompleto}}</td>
    </tr>
  </table>

  <table *ngIf="diario" class="teste123">
    <tr>
      <th class="border" colspan="9"><img src="assets/img/emar.jpg"></th>
      <th class="border" colspan="6">
        Data do Registro: {{dataDoDia}} <br>
        Página 1 de 1
      </th>
    </tr>
    <tr>
      <th class="border" colspan="15">
        EMAR TÁXI AÉREO LTDA
        <p style="font-weight: normal;">
          Av. Rui Barbosa, 698, sala 709 – Centro - Macaé – RJ – CEP: 27.910-361<br>
          CNPJ: 04.155.548/0001-61
        </p>
        Papeleta individual de horário de serviço externo
      </th>
    </tr>
    <tr>
      <th colspan="9">Nome: {{diario.Nome}}</th>
      <th colspan="6">Cód. ANAC: {{diario.ANAC}}</th>
    </tr>
    <tr>
      <th colspan="5">Função: {{diario.Funcao.Nome}}</th>
      <th colspan="5">Mês: {{diario.Mes}}</th>
      <th colspan="5">Ano: {{diario.Ano}}</th>
    </tr>
    <tr>
      <th rowspan="2">Dia</th>
      <th rowspan="2">Cód</th>
      <th rowspan="2">Hora de Apresentação</th>

      <th colspan="3">Horas Totais</th>
      <th colspan="2">Intervalo Refeição</th>
      <th colspan="2">Término Jornada</th>
      <th colspan="2">Interrupição Programada</th>
      <th colspan="3">Total Voo</th>
    </tr>
    <tr>
      <th>VFR</th>
      <th>IFR</th>
      <th>NOT</th>
      <th>Início</th>
      <th>Término</th>
      <th>Dia</th>
      <th>Hora</th>
      <th>Início</th>
      <th>Término</th>
      <th>Horas de Jornada</th>
      <th>Horas de Voo Dia</th>
      <th>Horas de Voo Mês</th>
    </tr>
    <tr *ngFor="let linha of diario.Linhas; index as i; first as isFirst">
      <td>{{linha.DiaDaSemana}} {{i+1}}</td>
      <td>{{linha.Ocorrencia}}</td>
      <td>{{linha.HoraDeApresentacao}}</td>
      <td>{{linha.TempoVFR}}</td>
      <td>{{linha.TempoIFR}}</td>
      <td>{{linha.TempoNoturno}}</td>
      <td>{{ linha.SemAlmoco ? '---' : linha.HoraDeRefeicao}}</td>
      <td>{{ linha.SemAlmoco ? '---' : linha.HoraFimDeRefeicao}}</td>
      <td>{{linha.DiaDaSemana}} {{i+1}}</td>
      <td>{{linha.TerminoJornada}}</td>
      <td></td>
      <td></td>
      <td>{{linha.Jornada}}</td>
      <td>{{linha.TempoDeVoo}}</td>
      <td>{{linha.TempoAcumulado}}</td>
    </tr>
    <tr>
      <td colspan="3"><b>Totais</b></td>
      <td>{{diario.TotalVFR}}</td>
      <td>{{diario.TotalIFR}}</td>
      <td>{{diario.TotalNOT}}</td>
      <td colspan="6"></td>
      <td>{{diario.TotalJOR}}</td>
      <td>{{diario.TotalHVOO}}</td>
      <td></td>
    </tr>
    <tr>
      <td colspan="18">Recebi do Tripulante {{diario.Nome}} regulamentação referente {{diario.Mes}} {{diario.Ano}}</td>
    </tr>
    <tr>
      <td class="assinatura" colspan="18">Nome e Assinatura do Recebedor</td>
    </tr>
    <tr>
      <td class="assinatura" colspan="18">&nbsp;</td>
    </tr>
  </table>

  <table class="tabela-clone" *ngIf="diario">
    <tr>
      <th class="border" colspan="9"><img src="assets/img/emar.jpg"></th>
      <th class="border" colspan="6">
        Data do Registro: XX/XX/XX <br>
        Página 1 de 1
      </th>
    </tr>
    <tr>
      <th class="border" colspan="15">
        EMAR TÁXI AÉREO LTDA
        <p style="font-weight: normal;">
          Av. Rui Barbosa, 698, sala 709 – Centro - Macaé – RJ – CEP: 27.910-361<br>
          CNPJ: 04.155.548/0001-61
        </p>
        Papeleta individual de horário de serviço externo
      </th>
    </tr>
    <tr>
      <th colspan="9">Nome: {{diario.Nome}}</th>
      <th colspan="6">Cód. ANAC: {{diario.ANAC}}</th>
    </tr>
    <tr>
      <th colspan="5">Função: {{diario.Funcao.Nome}}</th>
      <th colspan="5">Mês: {{diario.Mes}}</th>
      <th colspan="5">Ano: {{diario.Ano}}</th>
    </tr>
    <tr>
      <th rowspan="2">Dia</th>
      <th rowspan="2">Cód</th>
      <th rowspan="2">Hora de Apresentação</th>

      <th colspan="3">Horas Totais</th>
      <th colspan="2">Intervalo Refeição</th>
      <th colspan="2">Término Jornada</th>
      <th colspan="2">Interrupição Programada</th>
      <th colspan="3">Total Voo</th>
    </tr>
    <tr>
      <th>VFR</th>
      <th>IFR</th>
      <th>NOT</th>
      <th>Início</th>
      <th>Término</th>
      <th>Dia</th>
      <th>Hora</th>
      <th>Início</th>
      <th>Término</th>
      <th>Horas de Jornada</th>
      <th>Horas de Voo Dia</th>
      <th>Horas de Voo Mês</th>
    </tr>
    <tr *ngFor="let linha of diario.Linhas; index as i; first as isFirst">
      <td>{{linha.DiaDaSemana}} {{i+1}}</td>
      <td>{{linha.Ocorrencia}}</td>
      <td>{{linha.HoraDeApresentacao}}</td>
      <td>{{linha.TempoVFR}}</td>
      <td>{{linha.TempoIFR}}</td>
      <td>{{linha.TempoNoturno}}</td>
      <td>{{ linha.SemAlmoco ? '---' : linha.HoraDeRefeicao}}</td>
      <td>{{ linha.SemAlmoco ? '---' : linha.HoraFimDeRefeicao}}</td>
      <td>{{linha.DiaDaSemana}} {{i+1}}</td>
      <td>{{linha.TerminoJornada}}</td>
      <td></td>
      <td></td>
      <td>{{linha.Jornada}}</td>
      <td>{{linha.TempoDeVoo}}</td>
      <td>{{linha.TempoAcumulado}}</td>
    </tr>
    <tr>
      <td colspan="3"><b>Totais</b></td>
      <td>{{diario.TotalVFR}}</td>
      <td>{{diario.TotalIFR}}</td>
      <td>{{diario.TotalNOT}}</td>
      <td colspan="6"></td>
      <td>{{diario.TotalJOR}}</td>
      <td>{{diario.TotalHVOO}}</td>
      <td></td>
    </tr>
    <tr>
      <td colspan="10" style="text-align: left">
        Assinatura do Tripulante:
      </td>
      <td colspan="2" style="text-align: left">
        Visto:
      </td>
      <td colspan="3">
      </td>
    </tr>
    <tr>
      <td colspan="15">
        <b>EV</b> = Em Voo; <b>SO</b> = Sobreaviso; <b>RE</b> = Reserva; <b>DM</b> = Dispensa Médica; <b>TT</b> =
        Treinamento Teórico; <b>TN</b> = Treinamento Aeoronave; <b>SIM</b> = Simulador de Voo; <b>CQ</b> = Cheque; <b>FR</b>
        = Férias; <b>FO</b> = Folga; <b>FE</b> = Fora de escala; <b>CM</b> = CMA; <b>HT</b> = Huet e <b>VG</b> = Viagem
      </td>
    </tr>
    <tr>
      <td colspan="5">Código do Formulário: FOR-OPE-031</td>
      <td colspan="5">Revisão: 01</td>
      <td colspan="5">Data: 01/10/2018</td>
    </tr>
  </table>
</div>
