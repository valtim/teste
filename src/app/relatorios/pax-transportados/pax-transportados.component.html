<app-titulo titulo="PAX Transportados" [carregando]="carregando"></app-titulo>

<div class=" d-print-none" *ngIf="prefixos">
  <div class="grid">
    <div class="col"></div>
    <div class="col">
      <p-listbox
        [options]="clientes"
        [(ngModel)]="clientesSelecionados"
        multiple="multiple"
        checkbox="checkbox"
        filter="filter"
        [listStyle]="{ 'max-height': '110px' }"
        optionLabel="Nome"
      >
        <p-header> Clientes </p-header>
      </p-listbox>
    </div>
    <div class="col">
      <p-listbox
        [options]="prefixos"
        [(ngModel)]="prefixosSelecionados"
        multiple="multiple"
        checkbox="checkbox"
        filter="filter"
        [listStyle]="{ 'max-height': '110px' }"
        optionLabel="Nome"
      >
        <p-header> Prefixos </p-header>
      </p-listbox>
    </div>
    <div class="col">
      <button type="button" pButton pRipple label="Inicial"></button>
      <p-calendar
        [(ngModel)]="dataInicio"
        selectionMode="single"
        dateFormat="dd/mm/yy"
        [locale]="locale_pt"
        showIcon="true"
        [inputStyle]="{ width: '100px' }"
      ></p-calendar>
    </div>
    <div class="col">
      <button type="button" pButton pRipple label="Final"></button>
      <p-calendar
        [(ngModel)]="dataFim"
        selectionMode="single"
        dateFormat="dd/mm/yy"
        [locale]="locale_pt"
        showIcon="true"
        [inputStyle]="{ width: '100px' }"
      ></p-calendar>
    </div>
    <div class="col">
      <button
        pButton
        type="button"
        icon="pi pi-search"
        iconPos="right"
        label="Perquisar"
        (click)="rodarRelatorio()"
      ></button>
    </div>
    <div class="col">
      <button
        type="button"
        label="Exportar"
        pButton
        pRipple
        icon="pi pi-file-excel"
        (click)="exportExcel()"
        class="botao-excel p-button-success mr-2"
        pTooltip="XLS"
        tooltipPosition="bottom"
      ></button>
    </div>
  </div>
</div>

<app-cabecalho-impressao
  titulo="Passageiros transportados por mÃªs/ano"
  class="d-print"
></app-cabecalho-impressao>

<div id="dataTable" *ngIf="dados">
  <p-table [columns]="cols" [value]="dados">
    <ng-template pTemplate="header">
      <tr>
        <th *ngFor="let col of cols">
          {{ col.header }}
        </th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-car>
      <tr>
        <td *ngFor="let col of cols" nowrap>
          <!-- <span class="d-lg-none d-print-none">{{col.header}}</span> -->
          {{ car[col.field] }}
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
