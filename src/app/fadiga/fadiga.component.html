<app-loading *ngIf="loading"></app-loading>

<div class="content">

  <div class="menu">
    <button class="btn btn-info" [ngClass]="{'btn-select' : pesquisa.basico}" (click)="pesquisa.basico = true; ">Básica</button>
    <button class="btn btn-info" [ngClass]="{'btn-select' : !pesquisa.basico}" (click)="pesquisa.basico = false; ">Avançada</button>
  </div>

  <form action="" (submit)="searchFadiga()" autocomplete="off" method="POST" style="margin-top: 50px;">
    <span class="buscaCompleta" *ngIf="!pesquisa.basico" >


        <div class="row">
          <div class="col">
              <label for="Tripulantes">Tripulantes</label>
              <select name="Tripulantes" id="Tripulantes" multiple style="height:300px;" [(ngModel)]="pesquisa.Tripulantes">
                  <option *ngFor="let tripulante of tripulantes"
                  value="{{tripulante.Id}}" selected="{{true}}">
                  {{tripulante.Trato}}
                </option>
              </select></div>
          <div class="col">
              <label for="dataInicio">Data Inicial</label>
              <input type="date" name="dataInicio" [(ngModel)]="pesquisa.dataInicio">
              <label for="dataFim">Data Final</label>
              <input type="date" name="dataFim" [(ngModel)]="pesquisa.dataFim">
      
              <label for="Nivel">Nível</label>
              <select name="Nivel" id="" multiple [(ngModel)]="pesquisa.Niveis" style="height:100px;">
                <option value="1" selected>Nivel 1</option>
                <option value="2" selected>Nivel 2</option>
                <option value="3" selected>Nivel 3</option>
                <option value="0" selected>Sem Resposta</option>
              </select>
          </div>
        </div>


    </span>

    <span class="busca" *ngIf="pesquisa.basico" >
      <input type="date" name="data" [(ngModel)]="pesquisa.data">
    </span>

    <button class="btn btn-search" (click)="searchFadiga()">
    <img src="assets/icons/search.svg" alt="Search">
    </button>
  </form>

  <table class="table">
    <thead>
      <tr>
        <th *ngIf="!pesquisa.basico">Data</th>
        <th>Nível</th>
        <th>Pontos</th>
        <th>Trato</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody>
      <tr id="{{fadiga.Id}}" *ngFor="let fadiga of fadigas" (click)="teste(fadiga)" [style.background]="fadiga.Cor" [style.cursor]="fadiga.Cursor">
        <td *ngIf="!pesquisa.basico">{{fadiga.Data | date: 'dd/MM/yyyy'}}</td>
        <td>{{fadiga.Nivel}}</td>
        <td>{{fadiga.Pontos}}</td>
        <td>{{fadiga.Trato}}</td>
        <td>{{fadiga.Status}}</td>
      </tr>
    </tbody>
  </table>
</div>
